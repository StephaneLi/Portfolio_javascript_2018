class PortfolioGrid{constructor(t,e,i,s=null,n={}){this.container=$(t),this.loader=this.container.find(e),this.elements=this.container.find(i),this.loadComplete=!1,this.currentFilter=null,this.options=Object.assign({},{Plugins:[]},n),null!=s?(this.menu=this.container.find(s+" li"),this.menu.find("span").removeClass("active"),this.menu.find("span").addClass("desactive"),this.currentFilter=this.menu[0].textContent,this.menu.find("span").on("click",function(t){this.menu.find("span").removeClass("active"),0==$(t.target).hasClass("desactive")&&(this.filter(t.target.textContent,30),$(t.target).addClass("active"))}.bind(this))):this.menu=s,this.options.Plugins.forEach(function(t){this.pluginsInit(t)}.bind(this)),this.elements.css("display","none"),this.elements.addClass("desactive"),$(this.menu[0]).find("span").addClass("active")}get infos(){console.log(this.container),console.log(this.loader),console.log(this.elements),console.log(this.loadComplete),console.log(this.currentFilter)}load(){var t=this.elements.length,e=100/t,i=0;this.loadComplete=!0,this.elements.each(function(s){var n=$(this.elements[s]).find("img").data("src");$(this.elements[s]).find("img").attr("src",n),$(this.elements[s]).find("img").on("load",function(){i++,s==t-1?(this.loader.find(".loader-progressbar-inner").css("width","100%"),this.loader.fadeOut(1e3,function(){this.filter(this.currentFilter,80,!0)}.bind(this))):this.loader.find(".loader-progressbar-inner").css("width",e*i+"%")}.bind(this))}.bind(this))}filter(t,e,i=!1){var s=this.menu[0].textContent,n=this.elements,l=$({}),a=this.container.find(".filter"),o=0;this.elements.addClass("desactive"),this.menu.find("span").addClass("desactive"),this.elements.each(function(e){$(this).data("categorie")==t?(l[e]=this,l.length=e):t==s&&(l=n)}),0==i&&(a.each(function(t){var i=setTimeout(function(){$(this).removeClass("filter"),$(this).removeClass("transition-show"),t==a.length-1&&clearTimeout(i)}.bind(this),e*t);o+=e}),o+=700);var r=setTimeout(function(){this.elements.css("display","none"),l.css("display","block"),l.each(function(t){var i=setTimeout(function(){$(this).addClass("filter"),$(this).addClass("transition-show"),t==l.length-1&&clearTimeout(i)}.bind(this),e*(t+1))});var t=setTimeout(function(){this.pluginsInit("lightGallery",!0),this.elements.removeClass("desactive"),this.menu.find("span").removeClass("desactive"),clearTimeout(t)}.bind(this),e*l.length);clearTimeout(r)}.bind(this),o);setTimeout(function(){this.resize()}.bind(this),o)}pluginsInit(t,e=!1){switch(t){case"lightGallery":if(e)$(this.container).data("lightGallery").destroy(!0);else for(var i=0;i<this.elements.length;i++)this.elements[i].dataset.src=this.elements[i].querySelector("a").getAttribute("href"),this.elements[i].dataset.facebookShareUrl=this.elements[i].querySelector("a").getAttribute("href"),this.elements[i].dataset.twitterShareUrl=this.elements[i].querySelector("a").getAttribute("href");$(this.container).lightGallery({selector:".filter",download:!1,fullScreen:!1,showThumbByDefault:!1,mode:"lg-lollipop",backdropDuration:800,getCaptionFromTitleOrAlt:!1,googlePlus:!1,zoom:!1,hash:!1,pinterest:!1});break;default:return!1}}resize(){var t=0;this.container.parent().children().each(function(e){t+=$(this).innerHeight()}),t=Math.round(t),this.container.parent().css("height",t+"px")}static LoadPortfolio(t){t.load()}static FiltrePortfolio(t,e=this.currentFilter){t.filter(e,10)}static ResizeSection(t){t.resize()}}