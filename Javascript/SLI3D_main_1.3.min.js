const FOLDER_IMG_MAINSLIDER="Images/MainSlider/",LIST_SECTIONS=[{elmnt:$("#presentation-sli3d-stephane-lieumont"),deltaOffset:100,animDuration:300,title:"presentation"},{elmnt:$("#portfolio-travaux-stephane-lieumont"),deltaOffset:100,animDuration:100,title:"portfolio"},{elmnt:$("#profil-stephane-lieumont-graphiste3d-toulouse"),deltaOffset:100,animDuration:200,title:"profil"},{elmnt:$("#contact-stephane-lieumont-graphiste-3d"),deltaOffset:100,animDuration:500,title:"contact"}],LIS_IMG_BG_SLIDER=[{url:"Images/MainSlider/maison-moderne-2014.jpg",url_min:"Images/MainSlider/maison-moderne-2014_min.jpg",author:"Stéphane LIEUMONT",title:"Concept Architecture",annee:"2015"},{url:"Images/MainSlider/escart-wild-2015.jpg",url_min:"Images/MainSlider/escart-wild-2015_min.jpg",author:"Stéphane LIEUMONT",title:"Escart Wild",annee:"2015"},{url:"Images/MainSlider/Extraterrestre-2016.jpg",url_min:"Images/MainSlider/Extraterrestre-2016_min.jpg",author:"Stéphane LIEUMONT",title:"Extraterrestre",annee:"2016"},{url:"Images/MainSlider/Legos-Minions-2015.jpg",url_min:"Images/MainSlider/Legos-Minions-2015_min.jpg",author:"Stéphane LIEUMONT",title:"Legos Minions",annee:"2015"}];var animProfilState=!1,animLogState=!1,form=document.querySelector("#contactForm"),buttonSubmit=document.querySelector("[type=submit]"),reCAPTCHAload=!1,isMobile=isMobileDevice();const Portfolio=new PortfolioGrid(".grid-container",".grid-loader",".grid-item",".grid-menu",{Plugins:["lightGallery"]});function menuActive(e){$("header .anchor-link").each(function(){$(this).attr("href")===e?$(this).addClass("active"):$(this).removeClass("active")})}function createCanvas(){return $circle=$('<canvas class="log-progress" width="100px" height="100px" style="display:none;" />'),$canvas=$circle[0].getContext("2d"),$grd=$canvas.createLinearGradient(0,0,100,0),$grd.addColorStop(0,"#9e77e1"),$grd.addColorStop(1,"#92e5bb"),$canvas.createLinearGradient(0,0,200,0),$canvas.strokeStyle=$grd,$canvas.lineWidth=20,$circle}function animCanvas(e,t,i){var o=e[0].getContext("2d"),n=e.parent().data("pct");$({i:1}).stop(!0).delay(t).animate({i:n},{duration:i,easing:"swing",step:function(){o.beginPath(),o.clearRect(0,0,100,100),o.arc(50,50,15,Math.PI,2*this.i/100*Math.PI-Math.PI),o.stroke()}}),e.fadeIn()}function animSkills(e,t,i){maxValue=e.data("pct")+"%",e.find(".Progress-skill-inner").stop(!0).delay(t).animate({width:maxValue},{duration:i,easing:"swing"})}function scrollToPos(e=0,t=800){$("html, body").animate({scrollTop:e},{duration:t,easing:"swing"})}function reveal(e,t){var i=[];return e.forEach(function(e){t>=e.elmnt[0].offsetTop-$(window).height()+e.deltaOffset&&t<e.elmnt[0].offsetTop+e.elmnt[0].clientHeight?(i=e.title,menuActive("#"+e.elmnt.attr("id")),e.elmnt.find(".reveal").hasClass("reveal-show")||o(e.elmnt,"show",e.animDuration)):e.elmnt.find(".reveal").hasClass("reveal-show")&&o(e.elmnt,"hide")}),i;function o(e,t="show",i=100){nbElment=e.find(".reveal").length,"show"==t?e.find(".reveal").each(function(e){$(this).delay(e*i).queue(function(){$(this).addClass("reveal-show")})}):"hide"==t?e.find(".reveal").each(function(e){$(this).stop(!0).removeClass("reveal-show")}):console.error("Erreur de parametrage de la section reveal")}}function debounce(e,t){var i;return function(){var o=arguments,n=this;clearTimeout(i),i=setTimeout(function(){e.apply(n,o)},t)}}function throttle(e,t){var i,o;return function(){var n=this,a=+new Date,s=arguments;i&&a<i+t?(clearTimeout(o),o=setTimeout(function(){i=a,e.apply(n,s)},t)):(i=a,e.apply(n,s))}}function getHttpRequest(){var e=!1;if(window.XMLHttpRequest)(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/plain");else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return e||(alert("Abandon : Impossible de creer une instance XMLHTTP"),!1)}function onSubmit(e){var t=buttonSubmit.textContent,i=new FormData(form),o=getHttpRequest(),n=form.querySelectorAll(".help-block");o.open("POST",form.getAttribute("action"),!0),o.setRequestHeader("X-Requested-With","xmlhttprequest"),o.send(i),buttonSubmit.disabled=!0,buttonSubmit.classList.add("disabled"),buttonSubmit.textContent="Chargement...";for(var a=0;a<n.length;a++)n[a].classList.remove("has-error"),n[a].innerHTML="";o.onreadystatechange=function(){if(4===o.readyState)if(200!==o.status)for(var e=JSON.parse(o.responseText),i=Object.keys(e),n=0;n<i.length;n++){var a=i[n],s=e[a],r=document.querySelector("[name="+a+"]").parentNode.querySelector(".help-block");r.classList.add("has-error"),r.innerHTML=s,buttonSubmit.disabled=!1,buttonSubmit.classList.remove("disabled"),buttonSubmit.textContent=t}else{for(var l=form.querySelectorAll("input"),d=form.querySelector("textarea"),c=0;c<l.length;c++)l[c].value="";d.value="",buttonSubmit.disabled=!0,buttonSubmit.classList.add("success"),buttonSubmit.textContent="Message envoyé"}}}function initBgSlider(e,t,i,o,n){var a=0,s=1,r="",l="";if(n?(r=e[a].url_min,l=e[s].url_min):(r=e[a].url,l=e[s].url),t.append('<div class="slideBG" style="display:none; background-image: url(\''+l+"')\"></div>"),t.append('<div class="slideBG" style="background-image: url(\''+r+"')\"></div>"),t.append('<p class="caption">'+e[0].author+" - "+e[0].title+" © "+e[0].annee+"</p>"),t.append('<div class="ProgressSlideBG"></div>'),n){var d=window.innerHeight;$(".slideBG").parent().css({height:d+"px"}),$(".slideBG").parent().parent().css({"min-height":"0",height:d+"px",padding:0,width:"100%"})}function c(e){e.find(".ProgressSlideBG").stop().css("width","0").fadeIn(),e.find(".ProgressSlideBG").stop().css("opacity","1").animate({width:"100%"},{duration:o-500,easing:"linear",complete:function(){$(this).fadeOut()}})}$(this).scrollTop()<=LIST_SECTIONS[1].elmnt[0].offsetTop?$(".slideBG").css("background-position","center "+-.2*$(this).scrollTop()+"px"):n&&$(".slideBG").css("background-position","center 0 px"),t.find(".slideBG:first").css("display","block"),c(t),setInterval(function(){a>=e.length-1?a=0:a++,s>=e.length-1?s=0:s++,n?(r=e[a].url_min,l=e[s].url_min):(r=e[a].url,l=e[s].url),t.find(".slideBG:last").fadeOut(i),t.find("p").fadeOut(),c(t);var o=setTimeout(function(){t.find(".slideBG:last").prependTo(t),t.find(".slideBG:first").css("background-image","url("+l+")"),t.find(".slideBG:first").stop().show(0),t.find(".slideBG:last").css("background-image","url("+r+")"),t.find("p").text(e[a].author+" - "+e[a].title+" © "+e[a].annee).fadeIn(),clearTimeout(o)},i)},o)}function isMobileDevice(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}$(document).ready(function(){$("#nav-icon").on("click",function(){$("header").hasClass("show-menu")?($("header").removeClass("show-menu"),$(this).removeClass("open")):($("header").addClass("show-menu"),$(this).addClass("open"))}),$(".menu li a").on("click",function(){$("header").hasClass("show-menu")&&($("header").removeClass("show-menu"),$("#nav-icon").removeClass("open"))}),$("#logiciels li").each(function(){$(this).append(createCanvas)}),$("#ScrollTop").on("click",function(e){e.preventDefault(),scrollToPos(),window.location.hash=$(this).find("a").attr("href")}),$(".anchor-link").on("click",function(e){e.preventDefault();var t=$(this).attr("href");menuActive($(this).attr("href")),scrollToPos($(t)[0].offsetTop,800),setTimeout(function(){window.location.hash=t},800)}),$("#loadPage img").ready(function(){$("#loadPage img").stop(!0).fadeIn(1e3),$(".loaderHTML").stop(!0).fadeIn(2e3)}),$("#contact-stephane-lieumont-graphiste-3d .parallax").parallaxie({pos_x:"right"});var e=Math.round(($(this).scrollTop()-200)/2)/100;e<.1&&$("#ScrollTop").css({opacity:0}),e>0&&e<=1&&$("#ScrollTop").css({opacity:e}),$(this).scrollTop()<200||$(this).scrollTop()>$("main").height()-$(window).height()-400?$("footer").data("display","show").show(0):$("footer").data("display","hide").hide(0)}),$(window).on("load",function(){$("#loadPage img").stop(!0).fadeOut(500),$(".loaderHTML").stop(!0).fadeOut(100),$("#loadPage").stop(!0).delay(200).fadeOut(500),isMobile&&$(".reveal").removeClass("reveal"),LIST_SECTIONS.forEach(function(e){window.location.hash=="#"+e.elmnt[0].id&&setTimeout(function(){scrollToPos(e.elmnt[0].offsetTop,0)},100)}),initBgSlider(LIS_IMG_BG_SLIDER,$("#BG-Container"),500,12e3,isMobile),setTimeout(function(){$("header h1").fadeIn(1e3);var e=reveal(LIST_SECTIONS,$(this).scrollTop());if("profil"==e&&0==animLogState&&(animLogState=!0,setTimeout(function(){$("#profil-stephane-lieumont-graphiste3d-toulouse").find(".reveal").removeClass("reveal"),$("#profil-stephane-lieumont-graphiste3d-toulouse").find("h2").addClass("reveal"),$("#profil-stephane-lieumont-graphiste3d-toulouse").find("h2").addClass("reveal-show")},1e3),$(".Progress-skill").each(function(e){animSkills($(this),500+150*e,1e3)}),$(".log-progress").each(function(e){animCanvas($(this),500+10*e,500)})),Portfolio.loadComplete||"portfolio"!=e||PortfolioGrid.LoadPortfolio(Portfolio),!reCAPTCHAload&&"contact"==e)var t=setTimeout(function(){$("body").append('<script async src="https://www.google.com/recaptcha/api.js"><\/script>'),reCAPTCHAload=!0,clearTimeout(t)},100)},700)}),$(window).on("scroll",debounce(function(){var e=reveal(LIST_SECTIONS,$(this).scrollTop());if("profil"==e&&0==animLogState&&(animLogState=!0,setTimeout(function(){$("#profil-stephane-lieumont-graphiste3d-toulouse").find(".reveal").removeClass("reveal"),$("#profil-stephane-lieumont-graphiste3d-toulouse").find("h2").addClass("reveal"),$("#profil-stephane-lieumont-graphiste3d-toulouse").find("h2").addClass("reveal-show")},1e3),$(".Progress-skill").each(function(e){animSkills($(this),1e3+200*e,1e3)}),$(".log-progress").each(function(e){animCanvas($(this),2e3+200*e,500)})),Portfolio.loadComplete||"portfolio"!=e||PortfolioGrid.LoadPortfolio(Portfolio),!reCAPTCHAload&&"contact"==e)var t=setTimeout(function(){$("body").append('<script async src="https://www.google.com/recaptcha/api.js"><\/script>'),reCAPTCHAload=!0,clearTimeout(t)},100)},100)),$(window).on("scroll",throttle(function(){var e=Math.round(($(this).scrollTop()-200)/2)/100;e<.1&&$("#ScrollTop").css({opacity:0}),e>0&&e<=1&&$("#ScrollTop").css({opacity:e}),e>1&&$("#ScrollTop").css({opacity:1}),$(this).scrollTop()<200||$(this).scrollTop()>$("main").height()-$(window).height()-400?$("footer").data("display","hide")&&$("footer").data("display","show").fadeIn(1e3):$("footer").data("display","show")&&$("footer").data("display","hide").fadeOut(1e3)},250)),isMobile||$(window).on("scroll",throttle(function(){$(this).scrollTop()<=LIST_SECTIONS[1].elmnt[0].offsetTop&&$("#BG-Container .slideBG").css("background-position","center "+-.2*$(this).scrollTop()+"px")},20)),$(window).on("resize",debounce(function(){PortfolioGrid.ResizeSection(Portfolio)},500)),$(window).on("orientationchange",function(e){if(isMobile){var t=window.innerHeight;$(".slideBG").parent().css({height:t+"px"}),$(".slideBG").parent().parent().css({"min-height":"0",height:t+"px",padding:0,width:"100%"})}});